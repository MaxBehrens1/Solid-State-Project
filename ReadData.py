import numpy as np
from itertools import groupby

def ReadData(filename, sim_type='sommer'):
    """Reads data from txt file generated by sss

    Args:
        filename (_type_): _description_

    Returns:
        xdata: array of x_data
        ydata: array of y_data
        Edata: array of energy excess data
    """
    if sim_type=='sommer':
        array_list = []
        with open(filename) as f_data:    
            for k, g in groupby(f_data, lambda x: x.startswith('&')):
                if not k:
                    array_list.append(np.array([[float(x) for x in d.split()] for d in g if len(d.strip())]))
        array_list = np.array(array_list[:3])

    return array_list[0,:,0], array_list[0,:,1], array_list[1,:,1], array_list[2,:,1]
